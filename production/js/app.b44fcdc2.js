(function(){"use strict";var t={7191:function(t,e,n){var a=n(5130),r=n(6768);const o={id:"app-layout"},s={class:"sidebar"},c={class:"main-content"};function i(t,e,n,a,i,l){const u=(0,r.g2)("router-link"),d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("aside",s,[e[3]||(e[3]=(0,r.Lk)("h2",null,"💰 Finance App",-1)),(0,r.bF)(u,{to:"/",class:"nav-btn"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)(" 📊 Dashboard ")]))),_:1,__:[1]}),(0,r.bF)(u,{to:"/add",class:"nav-btn purple"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)(" ➕ Add Transaction ")]))),_:1,__:[2]}),(0,r.Lk)("button",{class:"clear-btn",onClick:e[0]||(e[0]=(...t)=>l.clearTransactions&&l.clearTransactions(...t))}," 🗑️ Clear All Data ")]),(0,r.Lk)("main",c,[(0,r.bF)(d)])])}var l=n(4373),u={methods:{async clearTransactions(){if(confirm("Are you sure you want to clear all transactions?"))try{await l.A.delete("http://localhost/finance-tracker/finance-backend/api/transactions/delete_all.php"),alert("✅ All transactions cleared!"),location.reload()}catch(t){console.error("Clear All Error:",t),alert("❌ Failed to clear transactions.")}}}},d=n(1241);const f=(0,d.A)(u,[["render",i]]);var p=f,h=n(1387);const m={class:"app-layout"},b={class:"dashboard"},v={class:"cards"},y={class:"charts"};function g(t,e,n,a,o,s){const c=(0,r.g2)("SummaryCard"),i=(0,r.g2)("SpendingChart"),l=(0,r.g2)("SpendingTrend"),u=(0,r.g2)("TransactionList");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("main",b,[e[0]||(e[0]=(0,r.Lk)("h2",null,"📊 Personal Finance Dashboard",-1)),(0,r.Lk)("div",v,[(0,r.bF)(c,{title:"Income",amount:s.totalIncome},null,8,["amount"]),(0,r.bF)(c,{title:"Expenses",amount:s.totalExpenses},null,8,["amount"]),(0,r.bF)(c,{title:"Balance",amount:s.totalIncome-s.totalExpenses},null,8,["amount"])]),(0,r.Lk)("div",y,[(0,r.bF)(i,{data:s.categoryTotals},null,8,["data"]),(0,r.bF)(l,{monthlyData:s.monthlyExpenses},null,8,["monthlyData"])]),(0,r.bF)(u,{transactions:o.transactions,onRefresh:s.fetchTransactions},null,8,["transactions","onRefresh"])])])}n(8111),n(2489),n(7588),n(8237);var k=n(4232);const C={class:"amount"};function _(t,e,n,a,o,s){return(0,r.uX)(),(0,r.CE)("div",{class:(0,k.C4)(["summary-card",n.type])},[(0,r.Lk)("h3",null,(0,k.v_)(n.title),1),(0,r.Lk)("p",C,(0,k.v_)(s.formattedAmount),1)],2)}var E={name:"SummaryCard",props:{title:String,amount:Number,type:{type:String,default:"balance"}},computed:{formattedAmount(){return"RM "+Number(this.amount).toFixed(2)}}};const A=(0,d.A)(E,[["render",_],["__scopeId","data-v-9bdc58a8"]]);var L=A;const T={class:"chart-container"},w={ref:"chart"};function F(t,e,n,a,o,s){return(0,r.uX)(),(0,r.CE)("div",T,[e[0]||(e[0]=(0,r.Lk)("h4",null,"🍩 Spending Breakdown",-1)),(0,r.Lk)("canvas",w,null,512)])}var S=n(9064);S.t1.register(S.ju,S.Bs,S.m_,S.s$);var x={name:"SpendingChart",props:["data"],data(){return{chartInstance:null}},watch:{data:{immediate:!0,handler(t){t&&0!==Object.keys(t).length&&(this.chartInstance&&this.chartInstance.destroy(),this.chartInstance=new S.t1(this.$refs.chart,{type:"doughnut",data:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#f94144","#f3722c","#f9c74f","#90be6d","#577590"],borderWidth:2,borderColor:"#1f2a40"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#ffffff",padding:15,boxWidth:20}}}}}))}}}};const O=(0,d.A)(x,[["render",F],["__scopeId","data-v-6a59403d"]]);var j=O;const I={class:"chart-container"},N={ref:"barChart"};function D(t,e,n,a,o,s){return(0,r.uX)(),(0,r.CE)("div",I,[e[0]||(e[0]=(0,r.Lk)("h4",null,"📈 Monthly Spending Trend",-1)),(0,r.Lk)("canvas",N,null,512)])}S.t1.register(S.A6,S.E8,S.PP,S.kc,S.m_,S.s$);var P={name:"SpendingTrend",props:["monthlyData"],data(){return{chartInstance:null}},watch:{monthlyData:{immediate:!0,handler(t){t&&0!==Object.keys(t).length&&(this.chartInstance&&this.chartInstance.destroy(),this.chartInstance=new S.t1(this.$refs.barChart,{type:"bar",data:{labels:Object.keys(t),datasets:[{label:"Expenses (RM)",data:Object.values(t),backgroundColor:"#42b983",borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#ffffff"}}},scales:{y:{beginAtZero:!0,ticks:{color:"#ccc",callback:t=>`RM ${t}`}},x:{ticks:{color:"#ccc"}}}}}))}}}};const R=(0,d.A)(P,[["render",D],["__scopeId","data-v-252b846c"]]);var X=R;const M={class:"transaction-list"},B={key:0},$={class:"date"},W={class:"category"},q={class:"actions"},K=["onClick"],U={key:1};function H(t,e,n,a,o,s){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",M,[e[1]||(e[1]=(0,r.Lk)("h4",null,"🧾 Recent Transactions",-1)),n.transactions.length?((0,r.uX)(),(0,r.CE)("ul",B,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.transactions,(t=>((0,r.uX)(),(0,r.CE)("li",{key:t.id},[(0,r.Lk)("span",$,(0,k.v_)(t.date),1),(0,r.Lk)("span",W,(0,k.v_)(t.category),1),(0,r.Lk)("span",{class:(0,k.C4)(t.type)},(0,k.v_)("income"===t.type?"+":"-")+"RM "+(0,k.v_)(parseFloat(t.amount).toFixed(2)),3),(0,r.Lk)("div",q,[(0,r.bF)(c,{to:`/update/${t.id}`},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("✏️ Edit")]))),_:2,__:[0]},1032,["to"]),(0,r.Lk)("button",{onClick:e=>s.deleteTransaction(t.id),class:"delete-btn"}," 🗑️ ",8,K)])])))),128))])):((0,r.uX)(),(0,r.CE)("p",U,"No transactions available."))])}var Z={name:"TransactionList",props:["transactions"],emits:["refresh"],methods:{async deleteTransaction(t){if(confirm("Are you sure you want to delete this transaction?"))try{await l.A.delete("http://localhost/finance-tracker/finance-backend/api/transactions/delete.php",{data:{id:t}}),this.$emit("refresh")}catch(e){console.error("Delete failed:",e)}}}};const z=(0,d.A)(Z,[["render",H],["__scopeId","data-v-e6834114"]]);var G=z,J={name:"Dashboard",components:{SummaryCard:L,SpendingChart:j,SpendingTrend:X,TransactionList:G},data(){return{transactions:[]}},computed:{totalIncome(){return this.transactions.filter((t=>"income"===t.type)).reduce(((t,e)=>t+Number(e.amount)),0)},totalExpenses(){return this.transactions.filter((t=>"expense"===t.type)).reduce(((t,e)=>t+Number(e.amount)),0)},categoryTotals(){const t={};return this.transactions.filter((t=>"expense"===t.type)).forEach((e=>{t[e.category]=(t[e.category]||0)+Number(e.amount)})),t},monthlyExpenses(){const t={};return this.transactions.filter((t=>"expense"===t.type)).forEach((e=>{const n=new Date(e.date),a=n.toLocaleString("default",{month:"short",year:"numeric"});t[a]=(t[a]||0)+Number(e.amount)})),t}},mounted(){this.fetchTransactions()},methods:{async fetchTransactions(){try{const t=await l.A.get("http://localhost/finance-tracker/finance-backend/api/transactions/get.php");this.transactions=t.data}catch(t){console.error("Failed to fetch transactions:",t)}}}};const Q=(0,d.A)(J,[["render",g],["__scopeId","data-v-bafea7c8"]]);var V=Q;const Y=[{path:"/",name:"Dashboard",component:V},{path:"/add",name:"AddForm",component:()=>n.e(828).then(n.bind(n,8828))},{path:"/update/:id",name:"UpdateForm",component:()=>n.e(860).then(n.bind(n,2860)),props:!0}],tt=(0,h.aE)({history:(0,h.LA)("/finance-tracker/production/"),routes:Y});var et=tt,nt=n(7411);n(7917);l.A.defaults.headers.post["Content-Type"]="application/json";const at=(0,a.Ef)(p);at.use(nt.Ay),at.use(et),at.mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,o){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],o=t[u][2];for(var c=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(c=!1,o<s&&(s=o));if(c){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{828:"c0e7784f",860:"48fd5148"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{828:"4797dc52",860:"542dc46c"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="personal-finance-tracker:";n.l=function(a,r,o,s){if(t[a])t[a].push(r);else{var c,i;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+o){c=d;break}}c||(i=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",e+o),c.src=a),t[a]=[r];var f=function(e,n){c.onerror=c.onload=null,clearTimeout(p);var r=t[a];if(delete t[a],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),i&&document.head.appendChild(c)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/finance-tracker/production/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,r,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc);var c=function(n){if(s.onerror=s.onload=null,"load"===n.type)r();else{var a=n&&n.type,c=n&&n.target&&n.target.href||e,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+c+")");i.name="ChunkLoadError",i.code="CSS_CHUNK_LOAD_FAILED",i.type=a,i.request=c,s.parentNode&&s.parentNode.removeChild(s),o(i)}};return s.onerror=s.onload=c,s.href=e,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},e=function(t,e){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===t||o===e))return r}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){r=s[a],o=r.getAttribute("data-href");if(o===t||o===e)return r}},a=function(a){return new Promise((function(r,o){var s=n.miniCssF(a),c=n.p+s;if(e(s,c))return r();t(a,c,null,r,o)}))},r={524:0};n.f.miniCss=function(t,e){var n={828:1,860:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=a(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={524:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=o);var s=n.p+n.u(e),c=new Error,i=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,r[1](c)}};n.l(s,i,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,s=a[0],c=a[1],i=a[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(i)var u=i(n)}for(e&&e(a);l<s.length;l++)o=s[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunkpersonal_finance_tracker"]=self["webpackChunkpersonal_finance_tracker"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7191)}));a=n.O(a)})();
//# sourceMappingURL=app.b44fcdc2.js.map