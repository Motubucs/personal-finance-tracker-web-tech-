"use strict";(self["webpackChunkpersonal_finance_tracker"]=self["webpackChunkpersonal_finance_tracker"]||[]).push([[860],{2860:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var o=a(5796);const n={class:"form-container"},r={class:"buttons"};function l(e,t,a,l,i,c){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",n,[t[14]||(t[14]=(0,o.Lk)("h2",null,"‚úèÔ∏è Update Transaction",-1)),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>c.handleSubmit&&c.handleSubmit(...e)),["prevent"]))},[t[9]||(t[9]=(0,o.Lk)("label",{for:"type"},"Type:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"type","onUpdate:modelValue":t[0]||(t[0]=e=>i.form.type=e),required:""},t[6]||(t[6]=[(0,o.Lk)("option",{disabled:"",value:""},"Select type",-1),(0,o.Lk)("option",{value:"income"},"Income",-1),(0,o.Lk)("option",{value:"expense"},"Expense",-1)]),512),[[o.u1,i.form.type]]),t[10]||(t[10]=(0,o.Lk)("label",{for:"amount"},"Amount (RM):",-1)),(0,o.bo)((0,o.Lk)("input",{id:"amount",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.amount=e),min:"0.01",step:"0.01",required:""},null,512),[[o.Jo,i.form.amount,void 0,{number:!0}]]),t[11]||(t[11]=(0,o.Lk)("label",{for:"category"},"Category:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"category",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.category=e),required:""},null,512),[[o.Jo,i.form.category]]),t[12]||(t[12]=(0,o.Lk)("label",{for:"date"},"Date:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"date",type:"date","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.date=e),required:""},null,512),[[o.Jo,i.form.date]]),t[13]||(t[13]=(0,o.Lk)("label",{for:"note"},"Note (optional):",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"note","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.note=e),placeholder:"Description..."},null,512),[[o.Jo,i.form.note]]),(0,o.Lk)("div",r,[t[8]||(t[8]=(0,o.Lk)("button",{type:"submit"},"üíæ Save Changes",-1)),(0,o.bF)(d,{to:"/",class:"cancel-btn"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("‚ùå Cancel")]))),_:1,__:[7]})])],32)])}a(4114),a(8111),a(116);var i=a(4373),c={name:"UpdateForm",data(){return{form:{id:null,type:"",amount:0,category:"",date:"",note:""}}},created(){this.loadTransaction()},methods:{async loadTransaction(){const e=this.$route.params.id;try{const t=await i.A.get("http://localhost/finance-tracker/finance-backend/api/transactions/get.php"),a=t.data.find((t=>t.id==e));a?this.form={...a}:(alert("Transaction not found."),this.$router.push("/"))}catch(t){console.error("Failed to load transaction:",t)}},async handleSubmit(){try{await i.A.put("http://localhost/finance-tracker/finance-backend/api/transactions/put.php",this.form),alert("‚úÖ Transaction updated successfully!"),this.$router.push("/")}catch(e){console.error("Update failed:",e),alert("‚ùå Failed to update transaction.")}}}},d=a(1241);const u=(0,d.A)(c,[["render",l],["__scopeId","data-v-327d36aa"]]);var s=u}}]);