(function(){"use strict";var t={3011:function(t,e,n){var a=n(5796);const r={id:"app-layout"},o={class:"sidebar"},s={class:"navigation"},c={class:"sidebar-footer"},i={class:"main-content"},l={class:"content-wrapper"};function d(t,e,n,d,u,h){const p=(0,a.g2)("router-link"),f=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("aside",o,[e[4]||(e[4]=(0,a.Lk)("div",{class:"sidebar-header"},[(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("span",{class:"logo-icon"},"💰"),(0,a.Lk)("h2",null,"Finance Tracker")]),(0,a.Lk)("div",{class:"app-version"},"v1.0")],-1)),(0,a.Lk)("nav",s,[(0,a.bF)(p,{to:"/",class:"nav-btn"},{default:(0,a.k6)((()=>e[1]||(e[1]=[(0,a.Lk)("span",{class:"nav-icon"},"📊",-1),(0,a.Lk)("span",{class:"nav-text"},"Dashboard",-1)]))),_:1,__:[1]}),(0,a.bF)(p,{to:"/add",class:"nav-btn add-btn"},{default:(0,a.k6)((()=>e[2]||(e[2]=[(0,a.Lk)("span",{class:"nav-icon"},"➕",-1),(0,a.Lk)("span",{class:"nav-text"},"Add Transaction",-1)]))),_:1,__:[2]})]),(0,a.Lk)("div",c,[(0,a.Lk)("button",{class:"clear-btn",onClick:e[0]||(e[0]=(...t)=>h.clearTransactions&&h.clearTransactions(...t))},e[3]||(e[3]=[(0,a.Lk)("span",{class:"clear-icon"},"🗑️",-1),(0,a.Lk)("span",{class:"clear-text"},"Clear All Data",-1)]))])]),(0,a.Lk)("main",i,[(0,a.Lk)("div",l,[(0,a.bF)(f)])])])}var u=n(4373),h={methods:{async clearTransactions(){if(confirm("Are you sure you want to clear all transactions?"))try{await u.A.delete("https://finance-tracker-production.up.railway.app/api/transactions/delete_all.php"),alert("✅ All transactions cleared!"),location.reload()}catch(t){console.error("Clear All Error:",t),alert("❌ Failed to clear transactions.")}}}},p=n(1241);const f=(0,p.A)(h,[["render",d]]);var m=f,b=n(1387);const g={class:"app-layout"},v={class:"dashboard"},y={class:"dashboard-header"},k={class:"header-content"},L={class:"dashboard-subtitle"},C={class:"current-date"},T={class:"header-stats"},w={class:"quick-stat"},E={class:"stat-value"},S={class:"cards"},_={class:"charts"};function A(t,e,n,r,o,s){const c=(0,a.g2)("SummaryCard"),i=(0,a.g2)("SpendingChart"),l=(0,a.g2)("SpendingTrend"),d=(0,a.g2)("TransactionList");return(0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("main",v,[(0,a.Lk)("div",y,[(0,a.Lk)("div",k,[e[1]||(e[1]=(0,a.Lk)("h2",null,[(0,a.Lk)("span",{class:"dashboard-icon"},"📊"),(0,a.eW)(" Personal Finance Dashboard ")],-1)),(0,a.Lk)("p",L,[e[0]||(e[0]=(0,a.eW)(" Track your financial journey • ")),(0,a.Lk)("span",C,(0,a.v_)(s.currentDate),1)])]),(0,a.Lk)("div",T,[(0,a.Lk)("div",w,[e[2]||(e[2]=(0,a.Lk)("span",{class:"stat-label"},"Total Transactions",-1)),(0,a.Lk)("span",E,(0,a.v_)(o.transactions.length),1)])])]),(0,a.Lk)("div",S,[(0,a.bF)(c,{title:"Income",amount:s.totalIncome},null,8,["amount"]),(0,a.bF)(c,{title:"Expenses",amount:s.totalExpenses},null,8,["amount"]),(0,a.bF)(c,{title:"Balance",amount:s.totalIncome-s.totalExpenses},null,8,["amount"])]),(0,a.Lk)("div",_,[(0,a.bF)(i,{data:s.categoryTotals},null,8,["data"]),(0,a.bF)(l,{monthlyData:s.monthlyExpenses},null,8,["monthlyData"])]),(0,a.bF)(d,{transactions:o.transactions,onRefresh:s.fetchTransactions},null,8,["transactions","onRefresh"])])])}n(8111),n(2489),n(7588),n(8237);const I={class:"card-header"},x={class:"card-icon"},F={class:"card-badge"},N={class:"card-content"},O={class:"amount"},j={class:"amount-trend"},D={class:"trend-text"};function R(t,e,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",{class:(0,a.C4)(["summary-card",s.cardClass])},[(0,a.Lk)("div",I,[(0,a.Lk)("div",x,(0,a.v_)(s.cardIcon),1),(0,a.Lk)("div",F,(0,a.v_)(n.title),1)]),(0,a.Lk)("div",N,[(0,a.Lk)("p",O,(0,a.v_)(s.formattedAmount),1),(0,a.Lk)("div",j,[(0,a.Lk)("span",{class:(0,a.C4)(["trend-indicator",s.trendClass])},(0,a.v_)(s.trendIcon),3),(0,a.Lk)("span",D,(0,a.v_)(s.trendText),1)])]),e[0]||(e[0]=(0,a.Lk)("div",{class:"card-decoration"},null,-1))],2)}var B={name:"SummaryCard",props:{title:String,amount:Number,type:{type:String,default:"balance"}},computed:{formattedAmount(){return"RM "+Number(this.amount).toFixed(2)},cardClass(){const t=this.title.toLowerCase();return t.includes("income")?"income":t.includes("expense")?"expense":t.includes("balance")?"balance":this.type},cardIcon(){const t=this.title.toLowerCase();return t.includes("income")?"💰":t.includes("expense")?"💸":t.includes("balance")?"⚖️":"📊"},trendIcon(){const t=Number(this.amount);return this.title.toLowerCase().includes("balance")?t>=0?"📈":"📉":t>0?"📊":"📋"},trendClass(){const t=Number(this.amount);return this.title.toLowerCase().includes("balance")?t>=0?"positive":"negative":"neutral"},trendText(){const t=this.title.toLowerCase();return t.includes("income")?"Total Earned":t.includes("expense")?"Total Spent":t.includes("balance")?Number(this.amount)>=0?"Positive Balance":"Negative Balance":"Current Status"}}};const P=(0,p.A)(B,[["render",R],["__scopeId","data-v-64564b06"]]);var W=P;const X={class:"chart-container"},M={class:"chart-content"},$={ref:"chart"};function G(t,e,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",X,[e[0]||(e[0]=(0,a.Lk)("div",{class:"chart-header"},[(0,a.Lk)("h4",null,[(0,a.Lk)("span",{class:"chart-icon"},"📊"),(0,a.eW)(" Spending Breakdown ")]),(0,a.Lk)("div",{class:"chart-badge"},"Categories")],-1)),(0,a.Lk)("div",M,[(0,a.Lk)("canvas",$,null,512)])])}var z=n(9064);z.t1.register(z.ju,z.Bs,z.m_,z.s$);var H={name:"SpendingChart",props:["data"],data(){return{chartInstance:null}},watch:{data:{immediate:!0,handler(t){t&&0!==Object.keys(t).length&&(this.chartInstance&&this.chartInstance.destroy(),this.chartInstance=new z.t1(this.$refs.chart,{type:"doughnut",data:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#96ceb4","#feca57"],borderWidth:3,borderColor:"rgba(255, 255, 255, 0.2)",hoverBorderWidth:4,hoverBorderColor:"rgba(255, 255, 255, 0.8)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgba(255, 255, 255, 0.9)",padding:20,boxWidth:16,boxHeight:16,font:{size:14,weight:"600",family:"'Inter', sans-serif"},usePointStyle:!0}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#333",bodyColor:"#333",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,cornerRadius:12,padding:12,font:{family:"'Inter', sans-serif"}}}}}))}}}};const U=(0,p.A)(H,[["render",G],["__scopeId","data-v-46990c07"]]);var Z=U;const q={class:"chart-container"},J={class:"chart-content"},K={ref:"barChart"};function Q(t,e,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",q,[e[0]||(e[0]=(0,a.Lk)("div",{class:"chart-header"},[(0,a.Lk)("h4",null,[(0,a.Lk)("span",{class:"chart-icon"},"📈"),(0,a.eW)(" Monthly Spending Trend ")]),(0,a.Lk)("div",{class:"chart-badge"},"Expenses")],-1)),(0,a.Lk)("div",J,[(0,a.Lk)("canvas",K,null,512)])])}z.t1.register(z.A6,z.E8,z.PP,z.kc,z.m_,z.s$);var V={name:"SpendingTrend",props:["monthlyData"],data(){return{chartInstance:null}},watch:{monthlyData:{immediate:!0,handler(t){t&&0!==Object.keys(t).length&&(this.chartInstance&&this.chartInstance.destroy(),this.chartInstance=new z.t1(this.$refs.barChart,{type:"bar",data:{labels:Object.keys(t),datasets:[{label:"Expenses (RM)",data:Object.values(t),backgroundColor:"rgba(102, 126, 234, 0.8)",borderColor:"rgba(102, 126, 234, 1)",borderWidth:2,borderRadius:12,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgba(255, 255, 255, 0.9)",padding:20,font:{size:14,weight:"600",family:"'Inter', sans-serif"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#333",bodyColor:"#333",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,cornerRadius:12,padding:12,font:{family:"'Inter', sans-serif"}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"},ticks:{color:"rgba(255, 255, 255, 0.8)",font:{family:"'Inter', sans-serif",size:12},callback:t=>`RM ${t}`}},x:{grid:{color:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"},ticks:{color:"rgba(255, 255, 255, 0.8)",font:{family:"'Inter', sans-serif",size:12}}}}}}))}}}};const Y=(0,p.A)(V,[["render",Q],["__scopeId","data-v-5486e31e"]]);var tt=Y;const et={class:"transaction-list"},nt={key:0},at={class:"date"},rt={class:"category"},ot={class:"actions"},st=["onClick"],ct={key:1};function it(t,e,n,r,o,s){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",et,[e[1]||(e[1]=(0,a.Lk)("h4",null,"🧾 Recent Transactions",-1)),n.transactions.length?((0,a.uX)(),(0,a.CE)("ul",nt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.transactions,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id},[(0,a.Lk)("span",at,(0,a.v_)(t.date),1),(0,a.Lk)("span",rt,(0,a.v_)(t.category),1),(0,a.Lk)("span",{class:(0,a.C4)(t.type)},(0,a.v_)("income"===t.type?"+":"-")+"RM "+(0,a.v_)(parseFloat(t.amount).toFixed(2)),3),(0,a.Lk)("div",ot,[(0,a.bF)(c,{to:`/update/${t.id}`},{default:(0,a.k6)((()=>e[0]||(e[0]=[(0,a.eW)("✏️ Edit")]))),_:2,__:[0]},1032,["to"]),(0,a.Lk)("button",{onClick:e=>s.deleteTransaction(t.id),class:"delete-btn"}," 🗑️ ",8,st)])])))),128))])):((0,a.uX)(),(0,a.CE)("p",ct,"No transactions available."))])}var lt={name:"TransactionList",props:["transactions"],emits:["refresh"],methods:{async deleteTransaction(t){if(confirm("Are you sure you want to delete this transaction?"))try{await u.A.delete("http://localhost/finance-tracker/finance-backend/api/transactions/delete.php",{data:{id:t}}),this.$emit("refresh")}catch(e){console.error("Delete failed:",e)}}}};const dt=(0,p.A)(lt,[["render",it],["__scopeId","data-v-e6834114"]]);var ut=dt,ht={name:"Dashboard",components:{SummaryCard:W,SpendingChart:Z,SpendingTrend:tt,TransactionList:ut},data(){return{transactions:[]}},computed:{currentDate(){return(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},totalIncome(){return this.transactions.filter((t=>"income"===t.type)).reduce(((t,e)=>t+Number(e.amount)),0)},totalExpenses(){return this.transactions.filter((t=>"expense"===t.type)).reduce(((t,e)=>t+Number(e.amount)),0)},categoryTotals(){const t={};return this.transactions.filter((t=>"expense"===t.type)).forEach((e=>{t[e.category]=(t[e.category]||0)+Number(e.amount)})),t},monthlyExpenses(){const t={};return this.transactions.filter((t=>"expense"===t.type)).forEach((e=>{const n=new Date(e.date),a=n.toLocaleString("default",{month:"short",year:"numeric"});t[a]=(t[a]||0)+Number(e.amount)})),t}},mounted(){this.fetchTransactions()},activated(){this.fetchTransactions()},beforeRouteEnter(t,e,n){n((t=>{t.fetchTransactions()}))},methods:{async fetchTransactions(){try{console.log("🔄 === FETCHING TRANSACTIONS ==="),console.log("🌍 Current URL:",window.location.href),console.log("🌍 Current hostname:",window.location.hostname),console.log("🌐 === LOADING FROM SHARED DATABASE ==="),console.log("👥 All users share the same data");const n="https://finance-tracker-production.up.railway.app/api/transactions/get.php";try{console.log("📡 Fetching shared transactions...");const t=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok){const e=await t.text();throw console.error("❌ Server response:",t.status,e),new Error(`Failed to fetch from shared database: ${t.status}`)}{const e=await t.json(),n=e.transactions||[];console.log("📊 Loaded shared transactions:",n.length),0===n.length?(console.log("📝 No shared transactions found"),this.transactions=[]):(this.transactions=n,console.log("✅ Shared transactions loaded successfully"))}}catch(t){console.error("❌ Shared database error:",t),console.log("� Falling back to localStorage...");try{const t=JSON.parse(localStorage.getItem("transactions")||"[]");if(0===t.length){const t=[{id:1,type:"income",amount:3e3,category:"Salary",note:"Monthly salary",date:"2025-06-01",created_at:"2025-06-01T10:00:00Z"},{id:2,type:"expense",amount:250,category:"Groceries",note:"Weekly shopping",date:"2025-06-15",created_at:"2025-06-15T14:30:00Z"},{id:3,type:"expense",amount:80,category:"Transport",note:"Gas for car",date:"2025-06-20",created_at:"2025-06-20T09:15:00Z"}];localStorage.setItem("transactions",JSON.stringify(t)),this.transactions=t,console.log("✅ Sample data initialized in localStorage")}else this.transactions=t,console.log("✅ Local transactions loaded")}catch(e){console.error("❌ localStorage fallback failed:",e),this.transactions=[]}}}catch(n){console.error("❌ === ERROR FETCHING TRANSACTIONS ==="),console.error("Error type:",n.constructor.name),console.error("Error message:",n.message),console.error("Full error:",n);const t=window.location.hostname,e="localhost"!==t&&"127.0.0.1"!==t;e?(console.log("🔧 Demo mode error recovery - setting empty transactions"),this.transactions=[]):(console.log("🔧 API error recovery - setting empty transactions"),this.transactions=[])}}}};const pt=(0,p.A)(ht,[["render",A],["__scopeId","data-v-021f57a5"]]);var ft=pt;const mt=[{path:"/",name:"Dashboard",component:ft},{path:"/add",name:"AddForm",component:()=>n.e(203).then(n.bind(n,5203))},{path:"/update/:id",name:"UpdateForm",component:()=>n.e(860).then(n.bind(n,2860)),props:!0}],bt=(0,b.aE)({history:(0,b.Bt)(),routes:mt});var gt=bt,vt=n(7411);n(7917);u.A.defaults.headers.post["Content-Type"]="application/json";const yt=(0,a.Ef)(m);yt.use(vt.Ay),yt.use(gt),yt.mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,o){if(!a){var s=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],o=t[d][2];for(var c=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(c=!1,o<s&&(s=o));if(c){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,r,o]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{203:"2b420694",860:"3d7f6c92"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{203:"3592c4b8",860:"542dc46c"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="personal-finance-tracker:";n.l=function(a,r,o,s){if(t[a])t[a].push(r);else{var c,i;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==e+o){c=u;break}}c||(i=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",e+o),c.src=a),t[a]=[r];var h=function(e,n){c.onerror=c.onload=null,clearTimeout(p);var r=t[a];if(delete t[a],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),i&&document.head.appendChild(c)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,r,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc);var c=function(n){if(s.onerror=s.onload=null,"load"===n.type)r();else{var a=n&&n.type,c=n&&n.target&&n.target.href||e,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+c+")");i.name="ChunkLoadError",i.code="CSS_CHUNK_LOAD_FAILED",i.type=a,i.request=c,s.parentNode&&s.parentNode.removeChild(s),o(i)}};return s.onerror=s.onload=c,s.href=e,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},e=function(t,e){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===t||o===e))return r}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){r=s[a],o=r.getAttribute("data-href");if(o===t||o===e)return r}},a=function(a){return new Promise((function(r,o){var s=n.miniCssF(a),c=n.p+s;if(e(s,c))return r();t(a,c,null,r,o)}))},r={524:0};n.f.miniCss=function(t,e){var n={203:1,860:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=a(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={524:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=o);var s=n.p+n.u(e),c=new Error,i=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,r[1](c)}};n.l(s,i,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,s=a[0],c=a[1],i=a[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(i)var d=i(n)}for(e&&e(a);l<s.length;l++)o=s[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(d)},a=self["webpackChunkpersonal_finance_tracker"]=self["webpackChunkpersonal_finance_tracker"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[96],(function(){return n(3011)}));a=n.O(a)})();